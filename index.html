import React, { useState, useEffect } from 'react';

// Main App component
const App = () => {
  const [activeTab, setActiveTab] = useState('vocational'); // State to manage active tab
  const [searchTermVocational, setSearchTermVocational] = useState(''); // Search term for vocational interests
  const [searchTermMultiple, setSearchTermMultiple] = useState(''); // Search term for multiple intelligences

  // Data for vocational interests
  const vocationalInterests = {
    'C - Administrativas y Contables': {
      emoji: 'ðŸ“Š',
      habilidades: [
        'Organizativo', 'SupervisiÃ³n', 'Orden', 'AnÃ¡lisis y sÃ­ntesis', 'ColaboraciÃ³n',
        'CÃ¡lculo', 'Liderazgo', 'ParticipaciÃ³n Activa'
      ],
      carreras: [
        'AdministraciÃ³n de empresas', 'AdministraciÃ³n de instituciones de servicio',
        'AdministraciÃ³n de mercados', 'EconomÃ­a y finanzas internacionales',
        'AdministraciÃ³n de negocios', 'Contabilidad'
      ]
    },
    'H - HumanÃ­sticas y Sociales': {
      emoji: 'ðŸ“š',
      habilidades: [
        'PrecisiÃ³n Verbal', 'OrganizaciÃ³n', 'RelaciÃ³n de Hechos', 'LingÃ¼Ã­stica',
        'Orden', 'Justicia', 'AnalÃ­tico'
      ],
      carreras: [
        'SociologÃ­a', 'PsicologÃ­a', 'AntropologÃ­a', 'Trabajo Social',
        'ComunicaciÃ³n Social', 'Periodismo', 'FilosofÃ­a', 'Ciencias polÃ­ticas',
        'Derecho', 'Ciencias forenses'
      ]
    },
    'A - ArtÃ­sticas': {
      emoji: 'ðŸŽ¨',
      habilidades: [
        'EstÃ©tico', 'ArmÃ³nico', 'Manual', 'Visual', 'Auditivo',
        'ObservaciÃ³n y AnÃ¡lisis', 'Senso- Perceptivo'
      ],
      carreras: [
        'MÃºsica', 'Artes plÃ¡sticas', 'Teatro', 'Dibujo'
      ]
    },
    'S - Medicina y Cs. de la Salud': {
      emoji: 'âš•ï¸',
      habilidades: [
        'Asistir', 'Investigativo', 'PrecisiÃ³n', 'Senso-Perceptivo',
        'AnalÃ­tico', 'Ayudar', 'Curar', 'Rehabilitar'
      ],
      carreras: [
        'Medicina', 'BacteriologÃ­a', 'EnfermerÃ­a', 'OdontologÃ­a', 'OptometrÃ­a',
        'Fisioterapia', 'FonoaudiologÃ­a', 'NutriciÃ³n', 'Terapia ocupacional',
        'Terapia respiratoria'
      ]
    },
    'I - IngenierÃ­a y ComputaciÃ³n': {
      emoji: 'ðŸ’»',
      habilidades: [
        'CÃ¡lculo', 'CientÃ­fico', 'Manual', 'Exacto', 'Planificar',
        'Organizar', 'Controlar'
      ],
      carreras: [
        'INGENIERIAS: Financiera', 'Industrial', 'InformÃ¡tica', 'ElÃ©ctrica',
        'IngenierÃ­a de Mercados', 'QuÃ­mica', 'MecÃ¡nica', 'Alimentos', 'Civil',
        'Ambiental', 'AgrÃ­cola', 'Materiales', 'Telecomunicaciones', 'Arquitectura',
        'DiseÃ±o grÃ¡fico', 'GeologÃ­a',
        'TECNOLOGIAS: TÃ©cnicos en mecÃ¡nica', 'TÃ©cnicos en contabilidad',
        'TÃ©cnicos en periodismo', 'TÃ©cnicos en Recursos Humanos',
        'TÃ©cnico Profesional en RealizaciÃ³n y ProducciÃ³n en T.V',
        'TecnÃ³logo en Sistemas', 'TecnÃ³logo en GestiÃ³n Financiera',
        'TecnÃ³logo en Salud Ocupacional'
      ]
    },
    'D - Defensa y Seguridad': {
      emoji: 'ðŸ›¡ï¸',
      habilidades: [
        'Justicia', 'Equidad', 'ColaboraciÃ³n', 'EspÃ­ritu de Equipo',
        'Liderazgo', 'CoordinaciÃ³n', 'Destreza FÃ­sica'
      ],
      carreras: [
        'Carrera militar y de policÃ­a', 'Oficiales y suboficiales del ejÃ©rcito',
        'La armada', 'Fuerza aÃ©rea', 'Oficiales y suboficiales de la policÃ­a nacional'
      ]
    },
    'E - Ciencias Exactas y Agrarias': {
      emoji: 'ðŸ”¬',
      habilidades: [
        'Clasificar', 'NumÃ©rico', 'AnÃ¡lisis y SÃ­ntesis', 'OrganizaciÃ³n',
        'Orden', 'InvestigaciÃ³n', 'PrecisiÃ³n', 'Exacto'
      ],
      carreras: [
        'BiologÃ­a', 'ZoologÃ­a', 'Zootecnia', 'AgronomÃ­a', 'Veterinaria'
      ]
    }
  };

  // Data for multiple intelligences
  const multipleIntelligences = {
    'Inteligencia Verbal': {
      emoji: 'ðŸ—£ï¸',
      habilidades: [
        'ComprensiÃ³n del orden y significado de las palabras',
        'Habilidad en la escritura y la lectura',
        'Habla y escucha eficaz'
      ],
      carreras: [
        'Periodismo', 'Publicidad', 'Relaciones PÃºblicas', 'Humanidades', 'Ciencia PolÃ­tica'
      ]
    },
    'Inteligencia LÃ³gico-matemÃ¡tica': {
      emoji: 'ðŸ§ ',
      habilidades: [
        'IdentificaciÃ³n de modelos y patrones.',
        'Capacidad para calcular, formular y verificar hipÃ³tesis.',
        'Habilidad para uso del mÃ©todo cientÃ­fico y razonamientos inductivo y deductivo.'
      ],
      carreras: [
        'InformÃ¡tica', 'Carreras de Ciencias exactas', 'IngenierÃ­a', 'FilosofÃ­a'
      ]
    },
    'Inteligencia Visual-espacial': {
      emoji: 'ðŸ‘ï¸',
      habilidades: [
        'PresentaciÃ³n de ideas visuales', 'CreaciÃ³n de imÃ¡genes mentales',
        'PercepciÃ³n de detalles visuales', 'Habilidad para dibujar y confeccionar bocetos'
      ],
      carreras: [
        'Artes plÃ¡sticas', 'DiseÃ±o', 'FotografÃ­a', 'Arquitectura', 'Publicidad'
      ]
    },
    'Inteligencia KinestÃ©sica-corporal': {
      emoji: 'ðŸ¤¸',
      habilidades: [
        'Capacidad para actividades de fuerza, rapidez y flexibilidad.',
        'Buena coordinaciÃ³n Ã³culo-manual', 'Habilidad de equilibrio',
        'Destreza del cuerpo para expresiÃ³n corporal o realizar reparaciones'
      ],
      carreras: [
        'Fisioterapia', 'Deportes', 'Danza'
      ]
    },
    'Inteligencia Musical-rÃ­tmica': {
      emoji: 'ðŸŽ¶',
      habilidades: [
        'Capacidad para cantar, tocar instrumentos y escuchar',
        'Habilidad para creaciÃ³n y anÃ¡lisis musical'
      ],
      carreras: [
        'IngenierÃ­a de sonido', 'ProducciÃ³n Audiovisual', 'MÃºsica', 'CinematografÃ­a', 'Danza'
      ]
    },
    'Inteligencia Intrapersonal': {
      emoji: 'ðŸ§˜',
      habilidades: [
        'Autodisciplina y control personal', 'Destreza para el planteamiento de metas',
        'Capacidad para evaluar habilidades y desventajas personales',
        'Habilidad para la introspecciÃ³n y meditaciÃ³n'
      ],
      carreras: [
        'PsicologÃ­a', 'PedagogÃ­a', 'Trabajo Social'
      ]
    },
    'Inteligencia Interpersonal': {
      emoji: 'ðŸ¤',
      habilidades: [
        'EmpatÃ­a y comunicaciÃ³n', 'Habilidad para trabajar con la gente',
        'Destreza en reconocer sentimientos y personalidades',
        'Capacidad para ayudar a las personas con sus problemas'
      ],
      carreras: [
        'Ciencias de la comunicaciÃ³n', 'Recursos Humanos', 'Marketing',
        'SociologÃ­a', 'AntropologÃ­a', 'Derecho', 'Medicina'
      ]
    }
  };

  // Component for rendering a tab with search and expandable items
  const TabContent = ({ data, searchTerm, setSearchTerm, title }) => {
    const [openItems, setOpenItems] = useState({}); // State to manage open/closed items

    // Filter items based on search term
    const filteredData = Object.keys(data).filter(key =>
      key.toLowerCase().includes(searchTerm.toLowerCase())
    );

    // Toggle item visibility
    const toggleItem = (item) => {
      setOpenItems(prev => ({ ...prev, [item]: !prev[item] }));
    };

    return (
      <div className="p-6 bg-white rounded-lg shadow-lg">
        {/* Search bar */}
        <div className="mb-6">
          <input
            type="text"
            placeholder={`Buscar ${title.toLowerCase()}...`}
            className="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800 placeholder-gray-400"
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
          />
        </div>
        {/* List of items */}
        <div className="space-y-4">
          {filteredData.length > 0 ? (
            filteredData.map(item => (
              <div key={item} className="border border-gray-200 rounded-lg overflow-hidden">
                {/* Item header (button) */}
                <button
                  className="w-full flex justify-between items-center p-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg rounded-t-lg shadow-md hover:from-blue-600 hover:to-purple-700 transition-all duration-300 ease-in-out"
                  onClick={() => toggleItem(item)}
                >
                  <span className="flex items-center">
                    <span className="mr-2 text-2xl">{data[item].emoji}</span>
                    {item}
                  </span>
                  <svg
                    className={`w-6 h-6 transform transition-transform duration-300 ${openItems[item] ? 'rotate-180' : ''}`}
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                {/* Collapsible content */}
                {openItems[item] && (
                  <div className="p-4 bg-gray-50 border-t border-gray-200 text-gray-700">
                    <h3 className="font-semibold text-blue-700 mb-2 text-lg">Habilidades:</h3>
                    <ul className="list-disc list-inside mb-4 space-y-1">
                      {data[item].habilidades.map((h, idx) => (
                        <li key={idx} className="flex items-center">
                          <span className="text-green-500 mr-2">âœ“</span> {h}
                        </li>
                      ))}
                    </ul>
                    <h3 className="font-semibold text-purple-700 mb-2 text-lg">Carreras afines:</h3>
                    <ul className="list-disc list-inside space-y-1">
                      {data[item].carreras.map((c, idx) => (
                        <li key={idx} className="flex items-center">
                          <span className="text-orange-500 mr-2">ðŸŽ“</span> {c}
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
              </div>
            ))
          ) : (
            <p className="text-center text-gray-500 text-lg py-8">
              No se encontraron resultados para "{searchTerm}".
            </p>
          )}
        </div>
      </div>
    );
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 font-sans text-gray-900 p-4 sm:p-8">
      <style>
        {`
          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
          body {
            font-family: 'Inter', sans-serif;
          }
        `}
      </style>
      <div className="max-w-4xl mx-auto bg-white rounded-xl shadow-2xl overflow-hidden">
        {/* Tab navigation */}
        <div className="flex border-b border-gray-200">
          <button
            className={`flex-1 py-4 text-center font-bold text-lg transition-all duration-300 ${
              activeTab === 'vocational'
                ? 'bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg'
                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
            } rounded-tl-xl`}
            onClick={() => setActiveTab('vocational')}
          >
            Intereses Vocacionales ðŸš€
          </button>
          <button
            className={`flex-1 py-4 text-center font-bold text-lg transition-all duration-300 ${
              activeTab === 'multiple'
                ? 'bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg'
                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
            } rounded-tr-xl`}
            onClick={() => setActiveTab('multiple')}
          >
            Inteligencias MÃºltiples âœ¨
          </button>
        </div>

        {/* Tab content */}
        <div className="p-6">
          {activeTab === 'vocational' && (
            <TabContent
              data={vocationalInterests}
              searchTerm={searchTermVocational}
              setSearchTerm={setSearchTermVocational}
              title="InterÃ©s Vocacional"
            />
          )}
          {activeTab === 'multiple' && (
            <TabContent
              data={multipleIntelligences}
              searchTerm={searchTermMultiple}
              setSearchTerm={setSearchTermMultiple}
              title="Inteligencia MÃºltiple"
            />
          )}
        </div>
      </div>
    </div>
  );
};

export default App;
